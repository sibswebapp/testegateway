<!DOCTYPE html>
<html lang="pt">
<head>
  <script>(function(){var p=location.pathname;var b=p.indexOf("/TestAPIWEB2/")!==-1?"/TestAPIWEB2/":"/";var e=document.createElement("base");e.href=b;document.head.prepend(e);}());</script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Validador Form</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
  <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">


  <link rel="stylesheet" href="/validador_form/css/validador_form_css.css">
  <link rel="stylesheet" href="/navbar/css/navbar_css.css">
  <link rel="stylesheet" href="/footer/css/footer_css.css">
  <link rel="stylesheet" href="/popups/css/popups_css.css">

</head>

<body>

  <div id="navbar"></div>

  <br>
  <br>

  <main class="main-wrapper">

    <section class="control-panel card">

      <div class="panel-header" style="margin-bottom: 30px;">
        <div class="panel-title" style="display: flex; align-items: center; gap: 12px; margin-bottom: 4px;">
          <i class="bi bi-body-text" style="color: #1a73e8; font-size: 26px;"></i>

          <span style="font-size: 22px; color: #202124; letter-spacing: -0.5px;">
            <b style="font-weight: 400;">Gateway</b>
            <b style="font-weight: 600;">SIBS</b>
            <span style="color: #dadce0; margin: 0 8px; font-weight: 300;">|</span>
            <span style="color: #5f6368; font-weight: 400;">Gerar Form</span>
          </span>
        </div>
      </div>

      <div class="inputs-row">
        <div class="form-group">
          <label class="form-label" for="transactionId">Transaction ID</label>
          <input type="text" id="transactionId" class="form-control" placeholder="Ex: 8a829417...">
        </div>

        <div class="form-group">
          <label class="form-label" for="formContext">Form Context</label>
          <input type="text" id="formContext" class="form-control" placeholder="Cole aqui o token de contexto da SIBS">
        </div>

        <button id="carregarForm">
          Gerar Checkout <i class="bi bi-arrow-right-short ms-2"></i>
        </button>
      </div>
    </section>

    <section class="form-canvas">
      <div class="canvas-label">Payment Gateway Preview</div>

      <div id="sibsFormContainer">
        <div class="placeholder-ui">
          <i class="bi bi-shield-lock"></i>
          <h3>Pronto para Carregar</h3>
          <p>Introduza os dados acima para visualizar o formulário de pagamento oficial.</p>
        </div>
      </div>
    </section>
  </main>

  <br>
  <br>

  <div id="footer"></div>

  <div id="js_index"></div>

  <!--PopUp sucesso-->
  <section id="successModal">
    <span class="overlay"></span>
    <div class="modal-box">
      <i class="fa-regular fa-circle-check icon-success"></i>
      <h2>Configuração Guardada</h2>
      <p>As suas definições foram gravadas com sucesso.</p>

      <div class="buttons">
        <button class="close-btn">Ok, Fechar</button>
      </div>
    </div>
  </section>


  <!--PopUp Erro-->
  <section id="errorModal">
    <span class="overlay"></span>
    <div class="modal-box">
      <i class="fa-regular fa-circle-xmark icon-error"></i>
      <h2>Erro na Configuração</h2>
      <p id="errorMessage">Ocorreu um problema ao gravar as definições.</p>

      <div class="buttons">
        <button class="close-btn">Ok, Fechar</button>
      </div>
    </div>
  </section>

  <script>

    // Carregar o ficheiro footer
    fetch("/footer/footer_layout.html")
    .then(res => res.text())
    .then(html => {
      document.getElementById("footer").innerHTML = html;
    })
    .catch(err => console.error("Erro ao carregar footer:", err));

    // Carregar o ficheiro navbar
    fetch("/navbar/navbar_Onboarding_pages.html")
    .then(res => res.text())
    .then(html => {
      document.getElementById("navbar").innerHTML = html;
    })
    .catch(err => console.error("Erro ao carregar navbar:", err));

  </script>

  <!--Carregar o js -->
  <script src="/validador_form/js/validador_form_js.js"></script>
  <script src="/popups/js/popup.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.js"></script>

</body>

</html>
