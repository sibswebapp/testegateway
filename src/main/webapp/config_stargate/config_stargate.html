<!DOCTYPE html>
<html lang="pt">

<head>
  <script>(function(){var p=location.pathname;var b=p.indexOf("/TestAPIWEB2/")!==-1?"/TestAPIWEB2/":"/";var e=document.createElement("base");e.href=b;document.head.prepend(e);}());</script>
  
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Configuração do Terminal</title>


  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"></linkhref>
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/navbar/css/navbar_css.css">
  <link rel="stylesheet" href="/popups/css/popups_css.css">
  <link rel="stylesheet" href="/footer/css/footer_css.css">
  <link rel="stylesheet" href="/gateway/css/gateway_css.css">

</head>

<body>

  <div id="navbar"></div>

  <main class="container mt-4">
    <br>
      <br>
    <div class="card">
      <div class="card-header text-center d-flex justify-content-between align-items-center" style="background-color: #e65100;">
        <h2 style="color: #f2f2f2; margin: 0 auto;"><b>Stargate SIBS - Configuração</b></h2>
      </div>
      <div class="card-body">

        <!--Checkboxs-->
        <div class="d-flex align-items-center mb-4">
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="defaultToggle" onchange="toggleDefaults(this);">
            <label class="form-check-label" for="defaultToggle">Usar Terminal default</label>
          </div>
          <div class="form-check form-switch ms-4">
              <input class="form-check-input" type="checkbox" id="AllMethodsPay" onchange="toggleAllMethodsPay(this)">
              <label class="form-check-label" for="AllMethodsPay">Usar todos os métodos de pagamento</label>
          </div>
        </div>


        <!--Inputs para preencher-->
        <div class="mb-4" id="inputTerminalId_stargate">
          <label for="terminalId_stargate" class="form-label">Terminal ID:</label>
          <input type="number" id="terminalId_stargate" class="form-control" placeholder="Insira o terminalID fornecido pela SIBS">
        </div>

        <div class="mb-4" id="inputClientId_stargate">
          <label for="clientId_stargate" class="form-label">Client ID:</label>
          <input type="text" id="clientId_stargate" class="form-control" placeholder="Insira o ClientID fornecido pela SIBS">
        </div>

        <div class="mb-4" id="inputBearerToken_stargate">
          <label for="bearerToken_stargate" class="form-label">Bearer Token:</label>
          <textarea id="bearerToken_stargate" class="form-control" rows="4" placeholder="Insira o Bearer Token"></textarea>
        </div>

        <button class="btn w-100" onclick="saveConfig()" style="background-color: rgb(255, 152, 0); color: rgb(242, 242, 242);">Guardar Configuração</button>
      </div>
    </div>
  </main>

  <br>
  <div id="footer"></div>


  <!--PopUp sucesso-->
  <section id="successModal">
    <span class="overlay"></span>
    <div class="modal-box">
      <i class="fa-regular fa-circle-check icon-success"></i>
      <h2>Configuração Guardada</h2>
      <p>As suas definições foram gravadas com sucesso.</p>

      <div class="buttons">
        <button class="close-btn">Ok, Fechar</button>
      </div>
    </div>
  </section>


  <!--PopUp Erro-->
  <section id="errorModal">
    <span class="overlay"></span>
    <div class="modal-box">
      <i class="fa-regular fa-circle-xmark icon-error"></i>
      <h2>Erro na Configuração</h2>
      <p id="errorMessage">Ocorreu um problema ao gravar as definições.</p>

      <div class="buttons">
        <button class="close-btn">Ok, Fechar</button>
      </div>
    </div>
  </section>

<script>

    // Carregar o ficheiro navbar
    fetch("/navbar/navbar_stargate_pages.html")
    .then(res => res.text())
    .then(html => {
      document.getElementById("navbar").innerHTML = html;
    })
    .catch(err => console.error("Erro ao carregar navbar:", err));

    // Carregar o ficheiro footer
    fetch("/footer/footer_layout.html")
    .then(res => res.text())
    .then(html => {
      document.getElementById("footer").innerHTML = html;
    })
    .catch(err => console.error("Erro ao carregar footer:", err));

  </script>

  <!--Carregar o js-->
  <script src="/config_stargate/js/config_stargate_js.js"></script>

</body>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.js"></script>
</html>
