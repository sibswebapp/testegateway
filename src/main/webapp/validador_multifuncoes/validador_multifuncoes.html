<!DOCTYPE html>
<html lang="pt">
<head>
  <script>(function(){var p=location.pathname;var b=p.indexOf("/TestAPIWEB2/")!==-1?"/TestAPIWEB2/":"/";var e=document.createElement("base");e.href=b;document.head.prepend(e);}());</script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Validador Multi-funções</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
  <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>

  <link rel="stylesheet" href="/validador_multifuncoes/css/validador_multifuncoes_css.css">
  <link rel="stylesheet" href="/popups/css/popups_css.css">
  <link rel="stylesheet" href="/navbar/css/navbar_css.css">
  <link rel="stylesheet" href="/footer/css/footer_css.css">

</head>

<body>

  <div id="navbar"></div>

  <main class="container py-5" style="font-family: 'Inter', system-ui, sans-serif; color: #334155;">

    <div class="card border-0 shadow-sm mb-4" style="border-radius: 20px; background: #ffffff;">
      <div class="card-body p-4">

        <div class="panel-header" style="margin-bottom: 30px;">
          <div class="panel-title" style="display: flex; align-items: center; gap: 12px; margin-bottom: 4px;">
            <i class="bi bi-diagram-3" style="color: #1a73e8; font-size: 26px;"></i>

            <span style="font-size: 22px; color: #202124; letter-spacing: -0.5px;">
              <b style="font-weight: 400;">Gateway</b>
              <b style="font-weight: 600;">SIBS</b>
              <span style="color: #dadce0; margin: 0 8px; font-weight: 300;">|</span>
              <span style="color: #5f6368; font-weight: 400;">Vários métodos</span>
            </span>
          </div>
        </div>

        <div class="row g-3">
          <div class="col-md-4">
              <div class="custom-input-container">
                  <input type="text" id="terminalId" class="form-control custom-input-field shadow-none" placeholder="Terminal ID">
              </div>
          </div>

          <div class="col-md-4">
              <div class="custom-input-container">
                  <input type="text" id="clientId" class="form-control custom-input-field shadow-none" placeholder="Client ID">
              </div>
          </div>

          <div class="col-md-4">
              <div class="input-group custom-password-group">
                  <input type="password" id="bearerToken" class="form-control border-end-0 shadow-none" placeholder="Bearer Token">
                  <span class="input-group-text bg-white border-start-0" id="togglePassword">
                      <i class="fa fa-eye text-muted" id="eyeIcon"></i>
                  </span>
              </div>
          </div>
        </div>
      </div>
    </div>


    <ul class="nav nav-pills mb-4 gap-2 p-1 bg-white shadow-sm d-inline-flex" id="multiFunctionTabs" role="tablist" style="border-radius: 16px; border: 1px solid #f1f5f9;">
        <li class="nav-item"><button class="nav-link active" id="status-tab" data-bs-toggle="tab" data-bs-target="#status" type="button" role="tab"><i class="fas fa-search me-2"></i>Status / Reembolso / Cancelamento</button></li>
        <li class="nav-item"><button class="nav-link" id="mit-tab" data-bs-toggle="tab" data-bs-target="#mit" type="button" role="tab"><i class="fas fa-credit-card me-2"></i>MITs</button></li>
        <li class="nav-item"><button class="nav-link" id="pa-tab" data-bs-toggle="tab" data-bs-target="#pagamentos_auto" type="button" role="tab"><i class="fas fa-handshake me-2"></i>Pagamentos Autorizados</button></li>
    </ul>

    <div class="tab-content" id="multiFunctionTabsContent">

      <div class="tab-pane fade show active" id="status" role="tabpanel">
        <div class="card border-0 shadow-sm p-4" style="border-radius: 24px;">

            <!-- Subtabs para Status / Refund / Cancel -->
            <ul class="nav nav-pills mb-4 bg-light p-1 d-inline-flex" style="border-radius: 12px;" role="tablist">
              <li class="nav-item">
                <button class="nav-link active btn-sm" data-bs-toggle="tab" data-bs-target="#sub-status">Status</button>
              </li>
              <li class="nav-item">
                <button class="nav-link btn-sm" data-bs-toggle="tab" data-bs-target="#sub-refund">Refund</button>
              </li>
              <li class="nav-item">
                <button class="nav-link btn-sm" data-bs-toggle="tab" data-bs-target="#sub-cancel">Cancel</button>
              </li>
            </ul>

            <div class="tab-content">

              <!-- SUBTAB STATUS -->
              <div class="tab-pane fade show active" id="sub-status">
                <div class="row align-items-end g-3 mb-4">
                  <div class="col-md-8">
                    <label class="form-label fw-bold">Transaction ID</label>
                     <div class="custom-input-container">
                        <input type="text" id="statusTransactionId" class="form-control custom-input-field shadow-none" placeholder="Ex: 123456..." style="border-radius: 12px;">
                     </div>
                  </div>
                  <div class="col-md-4">
                    <button class="btn btn-primary btn-lg w-100 shadow-sm py-3" onclick="getStatusPagamento()" style="border-radius: 12px; font-weight: 700;">Ver Status</button>
                  </div>
                </div>

                <div class="row g-3">
                  <div class="col-md-4" style="height: 100%;">
                    <div class="p-3 rounded-4 bg-light border border-dashed text-center h-100 d-flex flex-column justify-content-center">
                      <span class="text-muted small fw-bold">STATUS</span>
                      <div id="statusPagamento" class="h4 fw-bold text-primary mt-2">-</div>
                      <span class="badge bg-dark mt-2" id="statusCode">CODE: -</span>
                    </div>
                  </div>
                  <div class="col-md-8">
                    <div class="rounded-4 overflow-hidden d-flex flex-column h-100" style="background: #1e293b; border: 1px solid #334155;">
                      <div class="px-3 py-2 border-bottom border-secondary d-flex justify-content-between align-items-center">
                        <small class="text-secondary fw-bold">RESPONSE BODY</small>
                      </div>
                      <pre class="p-3 m-0 flex-grow-1" id="bodyCompletoStatus" style="color: #38bdf8; font-size: 0.8rem; overflow-y: auto;">{}</pre>
                    </div>
                  </div>
                </div>
              </div>

              <!-- SUBTAB REFUND -->
              <div class="tab-pane fade" id="sub-refund">
                <h5 class="fw-bold mb-4 text-primary"><i class="fas fa-undo me-2"></i>Reembolso</h5>
                <div class="row g-3 align-items-end">
                  <div class="col-md-4">
                    <label class="form-label small fw-bold">Transaction ID</label>
                    <div class="custom-input-container">
                      <input type="text" class="form-control custom-input-field shadow-none" id="RefundTransactionId" placeholder="Insira o Transaction ID para reembolso" style="border-radius: 12px;">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <label class="form-label small fw-bold">Montante</label>
                    <div class="custom-input-container">
                      <input type="text" class="form-control custom-input-field shadow-none" id="RefundMontante" placeholder="Insira o montante para reembolso" style="border-radius: 12px;">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <button class="btn btn-primary btn-lg w-100 py-3" onclick="RefundPagamento()" style="border-radius: 12px;">Fazer Refund</button>
                  </div>
                </div>
                <br>

                <div class="row g-3">
                  <div class="col-md-4" style="height: 100%;">
                    <div class="p-3 rounded-4 bg-light border border-dashed text-center h-100 d-flex flex-column justify-content-center">
                      <span class="text-muted small fw-bold">STATUS</span>
                      <div id="refundPagamento" class="h4 fw-bold text-primary mt-2">-</div>
                      <span class="badge bg-dark mt-2" id="statusCodeRefund">CODE: -</span>
                    </div>
                  </div>
                  <div class="col-md-8">
                    <div class="rounded-4 overflow-hidden d-flex flex-column h-100" style="background: #1e293b; border: 1px solid #334155;">
                      <div class="px-3 py-2 border-bottom border-secondary d-flex justify-content-between align-items-center">
                        <small class="text-secondary fw-bold">RESPONSE BODY</small>
                      </div>
                      <pre class="p-3 m-0 flex-grow-1" id="bodyCompletoRefund" style="color: #38bdf8; font-size: 0.8rem; overflow-y: auto;">{}</pre>
                    </div>
                  </div>
                </div>
              </div>

              <!-- SUBTAB CANCEL -->
              <div class="tab-pane fade" id="sub-cancel">
                <h5 class="fw-bold mb-4 text-danger"><i class="fas fa-ban me-2"></i>Cancelar Transação</h5>
                <div class="row g-3 align-items-end">
                  <div class="col-md-4">
                    <label class="form-label small fw-bold">Transaction ID</label>
                    <div class="custom-input-container">
                      <input type="text" class="form-control custom-input-field shadow-none" id="CancelTransactionId" placeholder="Insira o Transaction ID para cancelamento" style="border-radius: 12px;">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <label class="form-label small fw-bold">Montante</label>
                    <div class="custom-input-container">
                      <input type="text" class="form-control custom-input-field shadow-none" id="CancelMontante" placeholder="Insira o montante para reembolso" style="border-radius: 12px;">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <button class="btn btn-danger btn-lg w-100 py-3" onclick="CancelPagamento()"  style="border-radius: 12px;">Fazer Cancelamento</button>
                  </div>
                </div>
                <br>

                <div class="row g-3">
                  <div class="col-md-4" style="height: 100%;">
                    <div class="p-3 rounded-4 bg-light border border-dashed text-center h-100 d-flex flex-column justify-content-center">
                      <span class="text-muted small fw-bold">STATUS</span>
                      <div id="CancelPagamento" class="h4 fw-bold text-primary mt-2">-</div>
                      <span class="badge bg-dark mt-2" id="statusCodeCancel">CODE: -</span>
                    </div>
                  </div>
                  <div class="col-md-8">
                    <div class="rounded-4 overflow-hidden d-flex flex-column h-100" style="background: #1e293b; border: 1px solid #334155;">
                      <div class="px-3 py-2 border-bottom border-secondary d-flex justify-content-between align-items-center">
                        <small class="text-secondary fw-bold">RESPONSE BODY</small>
                      </div>
                      <pre class="p-3 m-0 flex-grow-1" id="bodyCompletoCancel" style="color: #38bdf8; font-size: 0.8rem; overflow-y: auto;">{}</pre>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div class="tab-pane fade" id="mit" role="tabpanel">
            <div class="card border-0 shadow-sm p-4" style="border-radius: 24px;">
                <ul class="nav nav-pills mb-4 bg-light p-1 d-inline-flex" style="border-radius: 12px;">
                    <li class="nav-item"><button class="nav-link active btn-sm" data-bs-toggle="tab" data-bs-target="#sub-cit-cobrar">CIT</button></li>
                    <li class="nav-item"><button class="nav-link btn-sm" data-bs-toggle="tab" data-bs-target="#sub-mit-cobrar">MIT (Cobrança)</button></li>
                    <li class="nav-item">
                      <button
                        id="sub-mit-captura-tab"
                        class="nav-link btn-sm"
                        data-bs-toggle="tab"
                        data-bs-target="#sub-mit-captura">
                        Captura
                      </button>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="sub-cit-cobrar">
                        <div class="row g-3">
                            <div class="col-md-4">
                              <label class="form-label small fw-bold">Tipo</label>
                              <select
                                id="CitType"
                                class="form-select bg-light border-0"
                                onchange="togglecit()">
                                <option value="UCOF">UCOF</option>
                                <option value="RCRR">Recorrente</option>
                              </select>
                            </div>
                            <div class="col-md-4" id="CITValorContainer">
                              <label class="form-label small fw-bold">Valor</label>
                              <div class="custom-input-container">
                                <input type="number" placeholder="Insira o montante" id="CITValor" class="form-control custom-input-field shadow-none">
                              </div>
                            </div>
                            <div class="col-md-4 d-flex gap-2 align-items-end">
                                <button class="btn btn-warning w-100" onclick="fazerCIT()">Fazer checkout para CIT</button>
                            </div>
                        </div>
                        <br>

                        <div class="row g-3">
                          <div class="col-md-4" style="height: 100%;">
                            <div class="p-3 rounded-4 bg-light border border-dashed text-center h-100 d-flex flex-column justify-content-center">
                              <span class="text-muted small fw-bold">STATUS</span>
                              <div id="CITPagamento" class="h4 fw-bold text-primary mt-2">-</div>
                                <a id="btnIrForm" class="btn btn-success w-100" href="validador_form/validador_form.html?ValidadorMultifuncoes=1" style="display: none;">
                                  Ir para form
                                </a>
                            </div>
                          </div>
                          <div class="col-md-8">
                            <div class="rounded-4 overflow-hidden d-flex flex-column h-100" style="background: #1e293b; border: 1px solid #334155;">
                              <div class="px-3 py-2 border-bottom border-secondary d-flex justify-content-between align-items-center">
                                <small class="text-secondary fw-bold">RESPONSE BODY</small>
                              </div>
                              <pre class="p-3 m-0 flex-grow-1" id="bodyCompletoCIT" style="color: #38bdf8; font-size: 0.8rem; overflow-y: auto;">{}</pre>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                  <div class="tab-content">
                      <div class="tab-pane fade show" id="sub-mit-cobrar">
                        <div class="row g-3">
                            <div class="col-md-3">
                              <label class="form-label small fw-bold">Transaction ID</label>
                              <div class="custom-input-container">
                                <input type="text" id="MITTransactionId" class="form-control custom-input-field shadow-none" placeholder="Insira o Transaction ID">
                              </div>
                            </div>
                            <div class="col-md-3">
                              <label class="form-label small fw-bold">Valor</label>
                              <div class="custom-input-container">
                                <input type="number" id="MITValor" class="form-control custom-input-field shadow-none" placeholder="Insira o Montante">
                              </div>
                            </div>
                            <div class="col-md-3">
                              <label class="form-label small fw-bold">Tipo</label>
                              <select
                                id="mitType"
                                class="form-select bg-light border-0"
                                onchange="toggleSubMitCaptura()">
                                <option value="UCOF">UCOF</option>
                                <option value="RCRR">Recorrente</option>
                              </select>
                            </div>

                            <div class="col-md-3 d-flex gap-2 align-items-end">
                                <button class="btn btn-success w-100" onclick="fazerMIT()">MIT</button>
                            </div>
                        </div>
                        <br>

                        <div class="row g-3">
                          <div class="col-md-4" style="height: 100%;">
                            <div class="p-3 rounded-4 bg-light border border-dashed text-center h-100 d-flex flex-column justify-content-center">
                              <span class="text-muted small fw-bold">STATUS</span>
                              <div id="MITPagamento" class="h4 fw-bold text-primary mt-2">-</div>
                              <span class="badge bg-dark mt-2" id="statusCodeMIT">CODE: -</span>
                            </div>
                          </div>
                          <div class="col-md-8">
                            <div class="rounded-4 overflow-hidden d-flex flex-column h-100" style="background: #1e293b; border: 1px solid #334155;">
                              <div class="px-3 py-2 border-bottom border-secondary d-flex justify-content-between align-items-center">
                                <small class="text-secondary fw-bold">RESPONSE BODY</small>
                              </div>
                              <pre class="p-3 m-0 flex-grow-1" id="bodyCompletoMIT" style="color: #38bdf8; font-size: 0.8rem; overflow-y: auto;">{}</pre>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane fade" id="sub-mit-captura">
                        <div class="row g-3">
                            <div class="col-md-4">
                              <label class="form-label small fw-bold">Transaction ID MIT</label>
                              <div class="custom-input-container">                             
                                <input type="text" placeholder="Insira o Transaction ID" id="captureTransactionId" class="form-control custom-input-field shadow-none">
                              </div>
                            </div>

                            <div class="col-md-4">
                              <label class="form-label small fw-bold">Valor Captura</label>
                              <div class="custom-input-container">                             
                                <input type="number" placeholder="Insira o Montante" id="captureValor" class="form-control custom-input-field shadow-none">
                              </div>
                            </div>

                            <div class="col-md-4 d-flex align-items-end">
                              <button class="btn btn-dark w-100" onclick="fazerCaptura()">Executar Captura</button>
                            </div>
                        </div>
                        <br>

                        <div class="row g-3">
                          <div class="col-md-4" style="height: 100%;">
                            <div class="p-3 rounded-4 bg-light border border-dashed text-center h-100 d-flex flex-column justify-content-center">
                              <span class="text-muted small fw-bold">STATUS</span>
                              <div id="capturePagamento" class="h4 fw-bold text-primary mt-2">-</div>
                              <span class="badge bg-dark mt-2" id="statusCodecapture">CODE: -</span>
                            </div>
                          </div>
                          <div class="col-md-8">
                            <div class="rounded-4 overflow-hidden d-flex flex-column h-100" style="background: #1e293b; border: 1px solid #334155;">
                              <div class="px-3 py-2 border-bottom border-secondary d-flex justify-content-between align-items-center">
                                <small class="text-secondary fw-bold">RESPONSE BODY</small>
                              </div>
                              <pre class="p-3 m-0 flex-grow-1" id="bodyCompletocapture" style="color: #38bdf8; font-size: 0.8rem; overflow-y: auto;">{}</pre>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tab-pane fade" id="pagamentos_auto" role="tabpanel">
          <div class="card border-0 shadow-sm p-4" style="border-radius: 24px;">

            <ul class="nav nav-pills mb-4 bg-light p-1 d-flex overflow-auto flex-nowrap shadow-none"
                role="tablist"
                style="border-radius: 12px; white-space: nowrap;">

              <li class="nav-item">
                <button class="nav-link active small py-2"
                        data-bs-toggle="tab"
                        data-bs-target="#pa-consulta"
                        type="button"
                        role="tab">
                  Criar Mandato
                </button>
              </li>

              <li class="nav-item">
                <button class="nav-link small py-2"
                        data-bs-toggle="tab"
                        data-bs-target="#pa-checkout"
                        type="button"
                        role="tab">
                  Checkout
                </button>
              </li>

              <li class="nav-item">
                <button class="nav-link small py-2"
                        data-bs-toggle="tab"
                        data-bs-target="#pa-compra"
                        type="button"
                        role="tab">
                  Compra
                </button>
              </li>

              <li class="nav-item">
                <button class="nav-link small py-2"
                        data-bs-toggle="tab"
                        data-bs-target="#listar_mandatos"
                        type="button"
                        role="tab">
                  Listar Mandatos
                </button>
              </li>

              <li class="nav-item">
                <button class="nav-link small py-2"
                        data-bs-toggle="tab"
                        data-bs-target="#mandato_detalhes"
                        type="button"
                        role="tab">
                  Detalhes Mandato
                </button>
              </li>

              <li class="nav-item">
                <button class="nav-link small py-2"
                        data-bs-toggle="tab"
                        data-bs-target="#mandato_Refund"
                        type="button"
                        role="tab">
                  Refund
                </button>
              </li>

              <li class="nav-item">
                <button class="nav-link small py-2"
                        data-bs-toggle="tab"
                        data-bs-target="#mandato_cancelar"
                        type="button"
                        role="tab">
                  Cancelar Mandato
                </button>
              </li>
            </ul>

            <div class="tab-content">

              <!-- CRIAR MANDATO -->
              <div class="tab-pane fade show active" id="pa-consulta" role="tabpanel">
                <div class="row g-3">
                  <div class="col-md-4">
                    <label class="form-label small fw-bold">Telefone</label>
                    <div class="custom-input-container">
                      <input type="text"
                            id="CriarMandatoPhone"
                            placeholder="Inserir número de telefone (AliasMBWAY)"
                            class="form-control custom-input-field shadow-none">
                    </div>
                  </div>

                  <div class="col-md-4">
                    <label class="form-label small fw-bold">Customer Name</label>
                    <div class="custom-input-container">
                      <input type="text"
                            id="CriarMandatoCustomerName"
                            placeholder="Inserir nome do cliente (customerName)"
                            class="form-control custom-input-field shadow-none">
                    </div>
                  </div>

                  <div class="col-md-4">
                    <label class="form-label small fw-bold">Merchant Transaction ID</label>
                    <div class="custom-input-container">
                      <input type="text"
                            id="CriarMandatoMerchantID"
                            placeholder="Inserir Merchant ID (merchantTransactionId)"
                            class="form-control custom-input-field shadow-none">
                    </div>
                  </div>
                </div>

                <div class="col-md-12">
                  <button class="btn btn-primary mt-4 px-5 shadow-sm"
                          style="border-radius: 10px;"
                          onclick="CriarMandato()">
                    Criar Mandato
                  </button>
                </div>

                <br>

                <div class="row g-3">
                  <div class="col-md-4" style="height: 100%;">
                    <div class="p-3 rounded-4 bg-light border border-dashed text-center h-100 d-flex flex-column justify-content-center">
                      <span class="text-muted small fw-bold">STATUS</span>
                      <div id="CriarMandatoPagamento" class="h4 fw-bold text-primary mt-2">-</div>
                        <span class="badge bg-dark mt-2" id="statusCodeCriarMandato">CODE: -</span>
                      </div>
                    </div>
                    <div class="col-md-8">
                      <div class="rounded-4 overflow-hidden d-flex flex-column h-100" style="background: #1e293b; border: 1px solid #334155;">
                        <div class="px-3 py-2 border-bottom border-secondary d-flex justify-content-between align-items-center">
                          <small class="text-secondary fw-bold">RESPONSE BODY</small>
                        </div>
                        <pre class="p-3 m-0 flex-grow-1" id="bodyCompletoCriarMandato" style="color: #38bdf8; font-size: 0.8rem; overflow-y: auto;">{}</pre>
                      </div>
                    </div>
                  </div>
              </div>

              <!-- CHECKOUT -->
              <div class="tab-pane fade" id="pa-checkout" role="tabpanel">
                <div class="row g-3">
                  <div class="col-md-3">
                    <label class="form-label small fw-bold">Mandate ID</label>
                    <div class="custom-input-container">
                      <input type="text"
                            id="checkoutMandateMandateId"
                            placeholder="Inserir Mandate ID (mandateId)"
                            class="form-control custom-input-field shadow-none">
                    </div>
                  </div>

                  <div class="col-md-3">
                    <label class="form-label small fw-bold">Merchant Transaction ID</label>
                    <div class="custom-input-container">
                      <input type="text"
                            id="checkoutMandatoMerchantID"
                            placeholder="Inserir Merchant ID (merchantTransactionId)"
                            class="form-control custom-input-field shadow-none">
                    </div>
                  </div>

                  <div class="col-md-3">
                    <label class="form-label small fw-bold">Customer Name</label>
                    <div class="custom-input-container">
                      <input type="text"
                            id="checkoutMandatoCustomerName"
                            placeholder="Inserir nome do cliente (customerName)"
                            class="form-control custom-input-field shadow-none">
                    </div>
                  </div>
                  <div class="col-md-3">
                    <label class="form-label small fw-bold">Valor</label>
                    <div class="custom-input-container">
                      <input type="text"
                            id="checkoutMandatoAmount"
                            placeholder="Inserir o valor"
                            class="form-control custom-input-field shadow-none">
                    </div>
                  </div>
                </div>

                <div class="col-md-12">
                  <button class="btn btn-primary mt-4" onclick="CheckoutMandatoPagamento()">
                    Executar Checkout
                  </button>
                </div>

                <br>

                <div class="row g-3">
                  <div class="col-md-4" style="height: 100%;">
                    <div class="p-3 rounded-4 bg-light border border-dashed text-center h-100 d-flex flex-column justify-content-center">
                      <span class="text-muted small fw-bold">STATUS</span>
                      <div id="CheckoutMandatoPagamento" class="h4 fw-bold text-primary mt-2">-</div>
                        <span class="badge bg-dark mt-2" id="statusCodeCheckoutMandato">CODE: -</span>
                      </div>
                    </div>
                    <div class="col-md-8">
                      <div class="rounded-4 overflow-hidden d-flex flex-column h-100" style="background: #1e293b; border: 1px solid #334155;">
                        <div class="px-3 py-2 border-bottom border-secondary d-flex justify-content-between align-items-center">
                          <small class="text-secondary fw-bold">RESPONSE BODY</small>
                        </div>
                        <pre class="p-3 m-0 flex-grow-1" id="bodyCompletoCheckoutMandato" style="color: #38bdf8; font-size: 0.8rem; overflow-y: auto;">{}</pre>
                      </div>
                    </div>
                  </div>
              </div>

              <!-- COMPRA -->
              <div class="tab-pane fade" id="pa-compra" role="tabpanel">
                <div class="row align-items-end g-3 mb-4">
                  <div class="col-md-8">
                    <label class="form-label fw-bold">Transaction ID</label>
                    <div class="custom-input-container">
                        <input type="text" id="CheckoutMandateTransactionId" class="form-control custom-input-field shadow-none" placeholder="Ex: 123456..." style="border-radius: 12px;">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <button class="btn btn-primary btn-lg w-100 shadow-sm py-3" onclick="CompraMandatoPagamento()" style="border-radius: 12px; font-weight: 700;">Fazer Compra com Mandato</button>
                  </div>
                </div>

                <br>

                <div class="row g-3">
                  <div class="col-md-4" style="height: 100%;">
                    <div class="p-3 rounded-4 bg-light border border-dashed text-center h-100 d-flex flex-column justify-content-center">
                      <span class="text-muted small fw-bold">STATUS</span>
                      <div id="CompraMandatoPagamento" class="h4 fw-bold text-primary mt-2">-</div>
                        <span class="badge bg-dark mt-2" id="statusCodeCompraMandato">CODE: -</span>
                      </div>
                    </div>
                    <div class="col-md-8">
                      <div class="rounded-4 overflow-hidden d-flex flex-column h-100" style="background: #1e293b; border: 1px solid #334155;">
                        <div class="px-3 py-2 border-bottom border-secondary d-flex justify-content-between align-items-center">
                          <small class="text-secondary fw-bold">RESPONSE BODY</small>
                        </div>
                        <pre class="p-3 m-0 flex-grow-1" id="bodyCompletoCompraMandato" style="color: #38bdf8; font-size: 0.8rem; overflow-y: auto;">{}</pre>
                      </div>
                    </div>
                  </div>
              </div>

              <!-- OUTRAS TABS -->
              <div class="tab-pane fade" id="listar_mandatos" role="tabpanel">
                  <div class="row align-items-end g-3 mb-4">
                  <div class="col-md-4">
                    <button class="btn btn-primary btn-lg w-100 shadow-sm py-3" onclick="ListarMandato()" style="border-radius: 12px; font-weight: 700;">Listar Mandatos</button>
                  </div>
                </div>

                <div class="row g-3">
                  <div class="col-md-4" style="height: 100%;">
                    <div class="p-3 rounded-4 bg-light border border-dashed text-center h-100 d-flex flex-column justify-content-center">
                      <span class="text-muted small fw-bold">STATUS</span>
                      <div id="ListarMandatoPagamento" class="h4 fw-bold text-primary mt-2">-</div>
                      <span class="badge bg-dark mt-2" id="ListarMandatoCode">CODE: -</span>
                    </div>
                  </div>
                  <div class="col-md-8">
                    <div class="rounded-4 overflow-hidden d-flex flex-column h-100" style="background: #1e293b; border: 1px solid #334155;">
                      <div class="px-3 py-2 border-bottom border-secondary d-flex justify-content-between align-items-center">
                        <small class="text-secondary fw-bold">RESPONSE BODY</small>
                      </div>
                      <pre class="p-3 m-0 flex-grow-1" id="bodyCompletoListarMandato" style="color: #38bdf8; font-size: 0.8rem; overflow-y: auto;">{}</pre>
                    </div>
                  </div>
                </div>
              </div>

              <div class="tab-pane fade" id="mandato_detalhes" role="tabpanel">
                <div class="row align-items-end g-3 mb-4">
                  <div class="col-md-4">
                    <label class="form-label fw-bold">Transaction ID</label>
                    <div class="custom-input-container">
                        <input type="text" id="DetalheMandatoTransactionId" class="form-control custom-input-field shadow-none" placeholder="Ex: 123456..." style="border-radius: 12px;">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <label class="form-label fw-bold">Telefone</label>
                    <div class="custom-input-container">
                        <input type="text" id="DetalheMandatoPhone" class="form-control custom-input-field shadow-none" placeholder="Ex: 351#915500372 (AliasMBWAY)" style="border-radius: 12px;">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <button class="btn btn-primary btn-lg w-100 shadow-sm py-3" onclick="DetalheMandato()" style="border-radius: 12px; font-weight: 700;">Ver Detalhes</button>
                  </div>
                </div>

                <div class="row g-3">
                  <div class="col-md-4" style="height: 100%;">refund
                    <div class="p-3 rounded-4 bg-light border border-dashed text-center h-100 d-flex flex-column justify-content-center">
                      <span class="text-muted small fw-bold">STATUS</span>
                      <div id="DetalheMandatoPagamento" class="h4 fw-bold text-primary mt-2">-</div>
                      <span class="badge bg-warning mt-2" id="statusCodeDetalheMandato">Montante disponível: -</span>
                    </div>
                  </div>
                  <div class="col-md-8">
                    <div class="rounded-4 overflow-hidden d-flex flex-column h-100" style="background: #1e293b; border: 1px solid #334155;">
                      <div class="px-3 py-2 border-bottom border-secondary d-flex justify-content-between align-items-center">
                        <small class="text-secondary fw-bold">RESPONSE BODY</small>
                      </div>
                      <pre class="p-3 m-0 flex-grow-1" id="bodyCompletoDetalheMandato" style="color: #38bdf8; font-size: 0.8rem; overflow-y: auto;">{}</pre>
                    </div>
                  </div>
                </div>
              </div>

              <div class="tab-pane fade" id="mandato_Refund" role="tabpanel">
                <div class="row align-items-end g-3 mb-4">
                  <div class="col-md-4">
                    <label class="form-label fw-bold">Transaction ID</label>
                    <div class="custom-input-container">
                        <input type="text" id="RefundMandatoTransactionId" class="form-control custom-input-field shadow-none" placeholder="Ex: 123456..." style="border-radius: 12px;">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <label class="form-label fw-bold">Montante</label>
                    <div class="custom-input-container">
                        <input type="text" id="MontanteRefundMandato" class="form-control custom-input-field shadow-none" placeholder="Inserir montante para reembolso" style="border-radius: 12px;">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <button class="btn btn-primary btn-lg w-100 shadow-sm py-3" onclick="RefundMandatoPagamento()" style="border-radius: 12px; font-weight: 700;">Fazer Refund</button>
                  </div>
                </div>

                <div class="row g-3">
                  <div class="col-md-4" style="height: 100%;">
                    <div class="p-3 rounded-4 bg-light border border-dashed text-center h-100 d-flex flex-column justify-content-center">
                      <span class="text-muted small fw-bold">STATUS</span>
                      <div id="refundMandatoPagamento" class="h4 fw-bold text-primary mt-2">-</div>
                      <span class="badge bg-dark mt-2" id="statusCodeRefundMandato">CODE: -</span>
                    </div>
                  </div>
                  <div class="col-md-8">
                    <div class="rounded-4 overflow-hidden d-flex flex-column h-100" style="background: #1e293b; border: 1px solid #334155;">
                      <div class="px-3 py-2 border-bottom border-secondary d-flex justify-content-between align-items-center">
                        <small class="text-secondary fw-bold">RESPONSE BODY</small>
                      </div>
                      <pre class="p-3 m-0 flex-grow-1" id="bodyCompletoRefundMandato" style="color: #38bdf8; font-size: 0.8rem; overflow-y: auto;">{}</pre>
                    </div>
                  </div>
                </div>
              </div>


              <div class="tab-pane fade" id="mandato_cancelar" role="tabpanel">
                <div class="row align-items-end g-3 mb-4">
                  <div class="col-md-3">
                    <label class="form-label fw-bold">Transaction ID</label>
                    <div class="custom-input-container">
                        <input type="text" id="CancelMandatoTransactionId" class="form-control custom-input-field shadow-none" placeholder="Ex: 123456..." style="border-radius: 12px;">
                    </div>
                  </div>
                  <div class="col-md-3">
                    <label class="form-label fw-bold">Merchant Transaction ID</label>
                    <div class="custom-input-container">
                        <input type="text" id="CancelMandatoMerchantID" class="form-control custom-input-field shadow-none" placeholder="Inserir Merchant ID (merchantTransactionId)" style="border-radius: 12px;">
                    </div>
                  </div>
                  <div class="col-md-3">
                    <label class="form-label small fw-bold">Telefone</label>
                    <div class="custom-input-container">
                      <input type="text" id="CancelMandatoPhone" placeholder="Ex: 351#915500372 (AliasMBWAY)" class="form-control custom-input-field shadow-none">
                    </div>
                  </div>
                  <div class="col-md-3">
                    <button class="btn btn-primary btn-lg w-100 shadow-sm py-3" onclick="CancelarMandato()" style="border-radius: 12px; font-weight: 700;">Cancelar Mandato</button>
                  </div>
                </div>

                <div class="row g-3">
                  <div class="col-md-4" style="height: 100%;">
                    <div class="p-3 rounded-4 bg-light border border-dashed text-center h-100 d-flex flex-column justify-content-center">
                      <span class="text-muted small fw-bold">STATUS</span>
                      <div id="CancelMandatoPagamento" class="h4 fw-bold text-primary mt-2">-</div>
                      <span class="badge bg-dark mt-2" id="statusCodeCancelMandato">CODE: -</span>
                    </div>
                  </div>
                  <div class="col-md-8">
                    <div class="rounded-4 overflow-hidden d-flex flex-column h-100" style="background: #1e293b; border: 1px solid #334155;">
                      <div class="px-3 py-2 border-bottom border-secondary d-flex justify-content-between align-items-center">
                        <small class="text-secondary fw-bold">RESPONSE BODY</small>
                      </div>
                      <pre class="p-3 m-0 flex-grow-1" id="bodyCompletoCancelMandato" style="color: #38bdf8; font-size: 0.8rem; overflow-y: auto;">{}</pre>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>


    </div>
</main>

  <div id="footer"></div>

  <div id="js_index"></div>

  <!--PopUp sucesso-->
  <section id="successModal">
    <span class="overlay"></span>
    <div class="modal-box">
      <i class="fa-regular fa-circle-check icon-success"></i>
      <h2> Configurada com sucesso</h2>
      <p id="sucessMessage"></p>

      <div class="buttons">
        <button class="close-btn">Ok, Fechar</button>
      </div>
    </div>
  </section>




  <!--PopUp Erro-->
  <section id="errorModal">
    <span class="overlay"></span>
    <div class="modal-box">
      <i class="fa-regular fa-circle-xmark icon-error"></i>
      <h2>Erro na Configuração</h2>
      <p id="errorMessage">Ocorreu um problema ao gravar as definições.</p>

      <div class="buttons">
        <button class="close-btn">Ok, Fechar</button>
      </div>
    </div>
  </section>


  <script>

    // Carregar o ficheiro footer
    fetch("/footer/footer_layout.html")
    .then(res => res.text())
    .then(html => {
      document.getElementById("footer").innerHTML = html;
    })
    .catch(err => console.error("Erro ao carregar footer:", err));

    // Carregar o ficheiro navbar
    fetch("/navbar/navbar_Onboarding_pages.html")
    .then(res => res.text())
    .then(html => {
      document.getElementById("navbar").innerHTML = html;
    })
    .catch(err => console.error("Erro ao carregar navbar:", err));

  </script>

  <!--Carregar o js-->
  <script src="/validador_multifuncoes/js/validador_multifuncoes_js.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.js"></script>

</body>
</html>